%\documentclass[slideColor,pdf, fyma2]{prosper}
\documentclass[svgnames]{beamer}
\usepackage{beamerthemesplit}
\usepackage{tikz}
\usepackage{xcolor}
\usepackage{verbatim}
\setbeamertemplate{navigation symbols}{} % Vypnuti navigation baru
\usepackage[utf8]{inputenc}
\usepackage[czech]{babel}
\newcommand{\myuv}[1]{\quotedblbase #1\textquotedblleft}
\setbeamertemplate{footline}{\hskip52em\textbf{\texttt{\insertframenumber/\inserttotalframenumber}}\vskip1em}
\setbeamertemplate{headline}{}
\setbeamertemplate{caption}{\insertcaption}
\setbeamertemplate{caption label separator}{}
%\setbeamertemplate{footline}[frame number]

\begin{document}
\title{Efektivní algoritmy pro práci s~konečnými automaty}
\author{Martin Hruška\\{\small Vedoucí: Ing. Ondřej Lengál}}

\frame{\titlepage} 

\frame{\frametitle{Motivace}
		\textcolor{Green}{Motivace}
		\begin{itemize}
			\item Konečné automaty
				\begin{itemize}
					\item Široké spektrum použití -- překladače, zpracování přirozeného jazyka, návrh číslicových systému, \textcolor{red}{formální verifikace}
					\item Algoritmy pro \textcolor{red}{nedeterministické} konečné automaty, především \textcolor{red}{test inkluze}
				\end{itemize}
		\end{itemize}

		\textcolor{Green}{Cíl}
		\begin{itemize}
			\item Vytvořit knihovnu pro práci s~konečnými automaty implementující nové a efektivní algoritmy.
		\end{itemize}
}

\frame{\frametitle{Definice NKA}
	\textcolor{red}{Nedeterministický konečný automat (NKA)} je pětice $(Q,\Sigma,\delta,S,F)$, kde
	\begin{itemize}
		\item $Q$ je konečná množina stavů
		\item $\Sigma$ je vstupní abeceda
		\item $\delta$ je přechodová funkce $Q\times\Sigma\rightarrow 2^Q$
		\item $S\subseteq Q$ je množina počátečních stavů
		\item $F \subseteq Q$ je množina koncových stavů
	\end{itemize}

  \begin{figure}[htp]
    \begin{center}
      \includegraphics[scale=0.3]{tf_model.pdf}
    \end{center}
	\end{figure}
}


 \begin{comment}
		\begin{tikzpicture}[scale=0.09]
				\tikzstyle{every node}+=[inner sep=0pt]
				\draw [blue] (9.4,-29.6) circle (3);
				\draw (9.4,-29.6) node {$P$};
				\draw [blue] (29.9,-15.7) circle (3);
				\draw (29.9,-15.7) node {$Q$};
				\draw [blue] (29.9,-15.7) circle (2.4);
				\draw [blue] (33.8,-30.8) circle (3);
				\draw (33.8,-30.8) node {$R$};
				\draw [blue] (21.7,-50.3) circle (3);
				\draw (21.7,-50.3) node {$S$};
				\draw [blue] (21.7,-50.3) circle (2.4);
				\draw [blue] (51.1,-20.6) circle (3);
				\draw (51.1,-20.6) node {$T$};
				\draw [blue] (51.8,-41) circle (3);
				\draw (51.8,-41) node {$U$};
				\draw [blue] (51.8,-41) circle (2.4);
				\draw [blue] (3.2,-27.4) -- (6.57,-28.6);
				\fill [blue] (6.57,-28.6) -- (5.99,-27.86) -- (5.65,-28.8);
				\draw [blue] (11.88,-27.92) -- (27.42,-17.38);
				\fill [blue] (27.42,-17.38) -- (26.47,-17.42) -- (27.04,-18.25);
				\draw (20.6,-23.15) node [below] {$a$};
				\draw [blue] (10.93,-32.18) -- (20.17,-47.72);
				\fill [blue] (20.17,-47.72) -- (20.19,-46.78) -- (19.33,-47.29);
				\draw (14.9,-41.21) node [left] {$a$};
				\draw [blue] (12.4,-29.75) -- (30.8,-30.65);
				\fill [blue] (30.8,-30.65) -- (30.03,-30.11) -- (29.98,-31.11);
				\draw (21.33,-30.95) node [below] {$c$};
				\draw [blue] (32.82,-16.38) -- (48.18,-19.92);
				\fill [blue] (48.18,-19.92) -- (47.51,-19.26) -- (47.29,-20.23);
				\draw (39.8,-18.73) node [below] {$b$};
				\draw [blue] (36.38,-29.28) -- (48.52,-22.12);
				\fill [blue] (48.52,-22.12) -- (47.57,-22.1) -- (48.08,-22.96);
				\draw (43.5,-26.2) node [below] {$b$};
				\draw [blue] (36.41,-32.28) -- (49.19,-39.52);
				\fill [blue] (49.19,-39.52) -- (48.74,-38.69) -- (48.25,-39.56);
				\draw (41.85,-36.4) node [below] {$c$};
				\draw [blue] (48.93,-41.89) -- (24.57,-49.41);
				\fill [blue] (24.57,-49.41) -- (25.48,-49.66) -- (25.18,-48.7);
				\draw (35.85,-45.1) node [above] {$d$};
				\draw [blue] (32.22,-33.35) -- (23.28,-47.75);
				\fill [blue] (23.28,-47.75) -- (24.13,-47.33) -- (23.28,-46.81);
				\draw (27.12,-39.26) node [left] {$a$};
				\end{tikzpicture}
        \end{comment}


\frame{\frametitle{Algoritmy pro test jazykové inkluze}
  \textcolor{Green}{Klasický přístup}
		\begin{itemize}
			\item $L(A)\cap \overline{L(B)}=\emptyset$
			\item Nutná determinizace $\Rightarrow$ stavová exploze
		\end{itemize}
    \begin{center}
      \begin{figure}
    \includegraphics<1>[scale=0.35]{inc_step1.pdf}
    \includegraphics<2>[scale=0.35]{inc_step2.pdf}
    \includegraphics<3>[scale=0.35]{inc_step3.pdf}
      \end{figure}
    \end{center}
}

\frame{\frametitle{Algoritmy pro test jazykové inkluze}
		\textcolor{Green}{Efektivní algoritmy}
		\begin{itemize}
			\item Umí pracovat s~nedeterministickými konečnými automaty
			\item	Nepotřebují vytvářet celý automat
			\begin{itemize}
				\item De Wulf, Doyen, Henzinger, Raskin. CAV'06.
				\item Abdulla, Chen, Holík, Mayr, Vojnar. TACAS'10.
				\item Bonchi, Pous. POPL'13.
			\end{itemize}
		\end{itemize}
	\begin{figure}[bht]
\begin{center}
	\scalebox{0.6}
	{
		\includegraphics[scale=0.45]{congr1.pdf}
		\hspace{0.55cm}
  	\includegraphics[scale=0.55]{ac1.pdf}
	}
  \label{automata}
\end{center}
\end{figure}	
}

\frame{\frametitle{Existující knihovny}
		\textcolor{Green}{dk.brics.automaton}
		\begin{itemize}
			\item balíček pro jazyk Java
			\item mutace \textcolor{red}{libfa} v~C a \textcolor{red}{fare} v~C\#
			\item pro test inkluze vyžaduje determinizaci
		\end{itemize}
		\textcolor{Green}{libgfsm, RWTH FSA Toolkit}
		\begin{itemize}
			\item starší knihovny v~C/C++
			\item opět problém s~nutností determinizace
		\end{itemize}
}			

\section{VATA}
\frame{\frametitle{VATA}
	\begin{itemize}
		\item Knihovna pro práci se \textcolor{red}{stromovými automaty}
		\item Zaměřena na oblast formální verifikace
		\item Podporuje explicitní a semi-symbolické kódování
		\item Cíl práce: rozšíření VATA pro \textcolor{red}{konečné automaty v~explicitním kódování}
	\end{itemize}
}

\section{Návrh}
\frame{\frametitle{Datové struktury}
	\begin{itemize}
    \item Datová struktura pro ukládání přechodů KA v~\textcolor{red}{explicitím} kódování
	\end{itemize}
  \begin{center}
  \begin{figure}[h]
  \input{explicit_fa.tikz}
  \end{figure}
  \end{center}

  \begin{itemize}
    \item Konečný automat \textcolor{red}{$B$} uložený v~datové struktuře výše
	\end{itemize}
  \begin{center}
  \begin{figure}[h]
  \begin{tikzpicture}[scale=0.1,expl/.style={thick,fill=orange!50} ]
    \tikzstyle{every node}+=[inner sep=0pt]
    \draw [blue] (29.4,-37.7) circle (3);
    \draw (29.4,-37.7) node {$q_1$};
    \draw [blue] (41.3,-25.6) circle (3);
    \draw (41.3,-25.6) node {$q_2$};
    \draw [blue] (52.6,-38.6) circle (3);
    \draw (52.6,-38.6) node {$q_3$};
    \draw [blue] (27.221,-35.655) arc (254.55605:-33.44395:2.25);
    \draw (26.14,-30.86) node [above] {$c$};
    \fill [blue] (29.7,-34.73) -- (30.39,-34.09) -- (29.43,-33.82);
    \draw [blue] (31.5,-35.56) -- (39.2,-27.74);
    \fill [blue] (39.2,-27.74) -- (38.28,-27.96) -- (38.99,-28.66);
    \draw (35.88,-33.12) node [right] {$e$};
    \draw [blue] (43.27,-27.86) -- (50.63,-36.34);
    \fill [blue] (50.63,-36.34) -- (50.48,-35.4) -- (49.73,-36.06);
    \draw (46.41,-33.55) node [left] {$e$};
    \end{tikzpicture}

  \end{figure}
  \end{center}
}

\section{Použité algoritmy a optimalizace}
\frame{\frametitle{Použité algoritmy}
  \begin{itemize}
    \item Použit a testován algoritmus fungující na základě výpočtu kongruenčního uzávěru množiny stavů
    \item Optimalizován speciálně na test inkluze
    \item Použity implementační optimalizace (cachování již spočtených množin)
  \end{itemize}
}

\section{Evaluace}
\frame{\frametitle{Porovnání s~OCaml verzí}

  \begin{center}
  \begin{figure}
    \includegraphics<1>[scale=0.35]{plot_hkc.png}
    \includegraphics<2>[scale=0.35]{plot_hkc_step1.png}
  \end{figure}
  \vspace{0.5cm}
   \begin{tabular}{ | l | r | r |}
   \hline
    & \textbf{OCaml} & \textbf{VATA} \\ \hline \hline
    rychlejší & $7\%$ & $93\%$ \\ \hline
   \end{tabular}
 \end{center}
}
\frame{\frametitle{Porovnání s~VATA pro TA}

  \begin{center}
  \begin{figure}
    \includegraphics<1>[scale=0.35]{plot_ca.png}
    \includegraphics<2>[scale=0.35]{plot_ca_step.png}
  \end{figure}
  \vspace{0.5cm}
   \begin{tabular}{ | l | r | r |}
   \hline
    & \textbf{VATA AC} & \textbf{VATA CONGR} \\ \hline \hline
    rychlejší & $8\%$ & $92\%$ \\ \hline
   \end{tabular}
 \end{center}
} 

\section{Možnost dalšího vývoje}
\frame{\frametitle{Další vývoj}
  \begin{itemize}
    \item Optimalizace algoritmu používajícího principu antichainů
    \item Využití simulace
  \end{itemize}
}

\section{Závěr}
\frame{\frametitle{Závěr}
 \begin{figure}[h]
  \begin{center}
  \minipage{0.5\textwidth}
  \includegraphics[scale=0.25]{plot_hkc.png}
  \endminipage
  \minipage{0.5\textwidth}
  \includegraphics[scale=0.25]{plot_ca.png}
  \endminipage
  \end{center}
  \end{figure}
}
\end{document}
